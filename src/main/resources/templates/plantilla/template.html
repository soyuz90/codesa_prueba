<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
<meta charset="UTF-8">
<title>Usuarios</title>
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
<link rel="stylesheet" th:href="@{/css/formulario.css}">
</head>
<body>
	<header th:fragment="header" >
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">		  
		   <h5 style="color: white;">Gestion de Usuarios</h5> 
		</nav>	
	</header>
	
	
	<div th:fragment="tabla-usuario" id="tabla">
		<div >
			<a class="btn btn-primary" href=""  id="crear" onclick="crear()"
							th:text="'Crear'" title="Crear Usuario">
			</a>
		</div>
		<table class="table table-striped table-bordered table-hover"> 
		  <tr>	
		    <th>Id</th>
		    <th>Nombre</th>
		    <th>Rol</th>
		    <th>Activo</th>	
		  </tr>			  
		  <tr th:each="usuario : ${listaUsuarios} ">			    
		    <td th:text="${usuario.id}"></td>
		    <td th:text="${usuario.nombre}"></td>
		    <td th:text="${usuario.rol.nombre}"></td>
		    <td th:text="${usuario.activo}"></td>
		  </tr>
		</table>	
	</div>
	
	<div th:fragment="info-usuario" >
		<form th:action="@{/usuario/save}"  th:object="${usuario}" method="post" id="formCrear">
			<div class="card-header">					
				<input class="btn btn-primary" type="button" value="Guardar" id="save" onclick="validar()" >
				<input class="btn btn-primary" type="button" value="Editar" id="edit" onclick="enviar()" >
				<a class="btn btn-primary" th:href="@{/usuario/delete/}+${usuario.id}"  id="delete"
				th:text="'Eliminar'" title="Eliminar Registro">
				</a>
			</div>	
		
		  <div class="form-group row">
		  	<input type="hidden" th:field="*{id}" id="id">
		    <label class="col-md-2"  for="nombre">Nombre</label>
		    <input type="text" th:field="*{nombre}" class="form-control form-control-sm col-md-6" id="nombre" placeholder="Ingrese Nombre">
		  </div>			
		  					  
		  <div class="form-group row">
		    <label class="col-md-2"  for="email">Rol</label>
		    <select th:field="*{rol}" class="form-control form-control-sm col-md-6" id="ciudad" >
		    	<option th:each="rol:${roles}"
		    			th:value="${rol.id}"
		    			th:text="${rol.nombre}"
		    	/>
		    </select>
		  </div> 
		  <div class="form-group row">
		  	 <label class="col-md-2"  for="nombre">Activo</label>
		  	 <div class="form-check">                   
                  	<input class="form-check-input" type="radio" th:field="*{activo}" name="idActivo" value="s">
                  	<label class="form-check-label" for="idActivo">SI</label>
                   </div>&nbsp &nbsp
		 	 <div class="form-check">                   
                  	<input class="form-check-input" type="radio" th:field="*{activo}" name="idActivo" value="n">
                  	<label class="form-check-label" for="idActivo">NO</label>
                   </div>                  
                </div>
		  
		</form>
	</div>
	
	<div class="container"></div>
	
	<footer th:fragment="footer" class="bg-dark text-center text-white">
		<div class="container">
			<p>Copyright - 2021 </p>
		</div>
		<script type="text/javascript" th:src="@{/js/jquery-3.6.0.js}" ></script>
		<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/formulario.js}"></script>		
	</footer>

</body>
</html>